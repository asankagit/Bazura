"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "HelloWorldFunction";
exports.ids = null;
exports.modules = {

/***/ "./hello-world/app.js":
/*!****************************!*\
  !*** ./hello-world/app.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom/server */ \"./node_modules/react-dom/server.node.js\");\n/* harmony import */ var _src_Hello__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/Hello */ \"./hello-world/src/Hello.js\");\n/* harmony import */ var _src_World__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/World */ \"./hello-world/src/World.js\");\n// const axios = require('axios')\n// const url = 'http://checkip.amazonaws.com/';\nvar response;\nvar path = __webpack_require__(/*! path */ \"path\");\n\n/**\n *\n * Event doc: https://docs.aws.amazon.com/apigateway/latest/developerguide/set-up-lambda-proxy-integrations.html#api-gateway-simple-proxy-for-lambda-input-format\n * @param {Object} event - API Gateway Lambda Proxy Input Format\n *\n * Context doc: https://docs.aws.amazon.com/lambda/latest/dg/nodejs-prog-model-context.html \n * @param {Object} context\n *\n * Return doc: https://docs.aws.amazon.com/apigateway/latest/developerguide/set-up-lambda-proxy-integrations.html\n * @returns {Object} object - API Gateway Lambda Proxy Output Format\n * \n */\n\n\n\n\n// import threeSSR from \"./three_ssr\"\n\nvar express = __webpack_require__(/*! express */ \"./node_modules/express/index.js\");\nvar fs = __webpack_require__(/*! fs */ \"fs\");\nvar awsServerlessExpress = __webpack_require__(/*! aws-serverless-express */ \"./node_modules/aws-serverless-express/index.js\");\nvar app = express();\nvar server = awsServerlessExpress.createServer(app);\nvar awsServerlessExpressMiddleware = __webpack_require__(/*! aws-serverless-express/middleware */ \"./node_modules/aws-serverless-express/middleware.js\");\napp.use(awsServerlessExpressMiddleware.eventContext());\nvar template = function template(content) {\n  return \"<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n<head>\\n  <meta charset=\\\"utf-8\\\">\\n  <title>Pixellio </title>\\n  <link href=\\\"/dist/styles.css\\\" rel=\\\"stylesheet\\\">\\n  <link href=\\\"styles.css\\\" rel=\\\"stylesheet\\\">\\n  <script data-ad-client=\\\"ca-pub-2317903401020318\\\" async src=\\\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\\\"></script>\\n  <meta property=\\\"og:image\\\"  content=\\\"https://static.observableusercontent.com/thumbnail/16029014ad2d5b18c0b97a351939893d2f30a48b25a6caa7741fe22d5d30e5a1.jpg\\\">\\n</head>\\n\\n<body\\n  <div class=\\\"content\\\">\\n     <div id=\\\"root\\\">\".concat(content, \"</div>\\n     <div id=\\\"three\\\"> Three.js rendering sample  </div>\\n  </div>\\n  <script async src=\\\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\\\"></script>\\n<!-- pixellio_adsense -->\\n<ins class=\\\"adsbygoogle\\\"\\n     style=\\\"display:block\\\"\\n     data-ad-client=\\\"ca-pub-2317903401020318\\\"\\n     data-ad-slot=\\\"4706545270\\\"\\n     data-ad-format=\\\"auto\\\"\\n     data-full-width-responsive=\\\"true\\\"></ins>\\n<script>\\n     (adsbygoogle = window.adsbygoogle || []).push({});\\n</script>\\n  <script href=\\\"bundle.js\\\" src=\\\"client/bundle.js\\\" defer></script>\\n</body>\\n</html>\");\n};\napp.use('/bundle.js', function (req, response) {\n  var filePath = path.join(__dirname, 'bundle.js');\n  console.log({\n    filePath: filePath\n  });\n  try {\n    var stat = fs.readFileSync(\"bundle.js\");\n    response.writeHead(200, {\n      'Content-Type': 'text/plain'\n      // 'Content-Length': stat.size\n    });\n\n    var readStream = fs.createReadStream(filePath);\n    // We replaced all the event handlers with a simple call to readStream.pipe()\n    readStream.pipe(response);\n  } catch (e) {\n    response.send(e);\n  }\n});\nconsole.log('path_resolve', path.resolve(__dirname, '.'));\napp.use('/client', express[\"static\"](path.resolve(__dirname, '.')));\napp.use('/dist', express[\"static\"](path.resolve(__dirname, '.')));\napp.use('/', function (req, res) {\n  // if (req.query.isme !== \"true\") { return res.send(\"Landing page\") }\n  res.send(template((0,react_dom_server__WEBPACK_IMPORTED_MODULE_1__.renderToString)((0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_src_Hello__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    to: req.query.to\n  }))));\n});\napp.use('/styles.css', function (req, response) {\n  var filePath = path.join(__dirname, 'styles.css');\n  console.log({\n    filePath: filePath\n  });\n  try {\n    // var stat = fs.readFileSync(\"bundle.js\");\n\n    response.writeHead(200, {\n      'Content-Type': 'text/plain'\n      // 'Content-Length': stat.size\n    });\n\n    var readStream = fs.createReadStream(filePath);\n    // We replaced all the event handlers with a simple call to readStream.pipe()\n    readStream.pipe(response);\n  } catch (e) {\n    response.send(e);\n  }\n});\napp.use(\"/heart-beat\", function (req, res) {\n  res.json({\n    \"status\": \"ok\"\n  });\n});\nexports.lambdaHandler = function (event, context) {\n  awsServerlessExpress.proxy(server, event, context);\n};\nexports.staticHandler = function (event, context, callback) {\n  // awsServerlessExpress.proxy(server, event, context)\n  var cssContents = fs.readFileSync(path.join(__dirname, 'styles.css'), 'utf8');\n  callback(null, {\n    'statusCode': 200,\n    \"headers\": {\n      \"Content-type\": \"text/css\"\n    },\n    'body': cssContents\n  });\n};\napp.listen(3001);\n// exports.lambdaHandler = function(event, context, callback){\n//     const html = renderToString(createElement(Hello));\n\n//     response = {\n//         'statusCode': 200,\n//         'body': JSON.stringify({\n//             message: html,\n//         })\n//     }\n\n//     callback(null,response)\n// };\n\n//# sourceURL=webpack://hello_world/./hello-world/app.js?");

/***/ })

};
exports.runtime =
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("915ac73613dddfd3506e")
/******/ })();
/******/ 
/******/ }
;