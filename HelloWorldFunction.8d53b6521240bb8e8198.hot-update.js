"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "HelloWorldFunction";
exports.ids = null;
exports.modules = {

/***/ "./hello-world/src/SkyGround.js":
/*!**************************************!*\
  !*** ./hello-world/src/SkyGround.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"FogEffect\": () => (/* binding */ FogEffect),\n/* harmony export */   \"MySky\": () => (/* binding */ MySky),\n/* harmony export */   \"SkyWithShaders\": () => (/* binding */ SkyWithShaders),\n/* harmony export */   \"Sun\": () => (/* binding */ Sun)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime-corejs3/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ \"./node_modules/@babel/runtime-corejs3/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/regenerator */ \"./node_modules/@babel/runtime-corejs3/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _react_three_drei__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @react-three/drei */ \"./node_modules/@react-three/drei/index.js\");\n/* harmony import */ var _react_three_fiber__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @react-three/fiber */ \"./node_modules/@react-three/fiber/dist/index-6f0019d1.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_addons_math_ImprovedNoise_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! three/addons/math/ImprovedNoise.js */ \"./node_modules/three/examples/jsm/math/ImprovedNoise.js\");\n/* harmony import */ var _groundSolo__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./groundSolo */ \"./hello-world/src/groundSolo.js\");\n/* harmony import */ var noisejs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! noisejs */ \"./node_modules/noisejs/index.js\");\n/* harmony import */ var noisejs__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(noisejs__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\n\n\n// import { Sky } from 'three/addons/objects/Sky.js';\n\n\n\nvar CustomSky = function CustomSky() {\n  var skyMaterial = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)();\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\n    var canvas = window.document.createElement('canvas');\n    // Create a new texture from the canvas element.\n    var texture = new three__WEBPACK_IMPORTED_MODULE_6__.CanvasTexture(canvas);\n\n    // Create a new Material object.\n    var material = new three__WEBPACK_IMPORTED_MODULE_6__.MeshBasicMaterial({\n      map: texture,\n      side: three__WEBPACK_IMPORTED_MODULE_6__.DoubleSide,\n      // Make sure the material is visible from both sides\n      transparent: true // Enable transpare\n    });\n\n    // Create a new SphereGeometry object.\n    var geometry = new three__WEBPACK_IMPORTED_MODULE_6__.BoxGeometry(1000, 1000, 1000); // new THREE.SphereGeometry(500, 100, 100); // Adjust sphere size\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_react_three_drei__WEBPACK_IMPORTED_MODULE_7__.Mesh, {\n      ref: skyMaterial,\n      geometry: geometry,\n      material: material\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_react_three_drei__WEBPACK_IMPORTED_MODULE_7__.SphereGeometry, {\n      args: [10000, 32, 32]\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_react_three_drei__WEBPACK_IMPORTED_MODULE_7__.MeshBasicMaterial, {\n      attach: \"material\",\n      color: 0x8080FF,\n      side: three__WEBPACK_IMPORTED_MODULE_6__.BackSide\n    }));\n  }, []);\n};\nvar Sun = function Sun() {\n  var geometry = new three__WEBPACK_IMPORTED_MODULE_6__.SphereGeometry(10, 32, 32);\n  var material = new three__WEBPACK_IMPORTED_MODULE_6__.MeshStandardMaterial({\n    color: 0xfff00f\n  });\n\n  // Create a reference to the mesh\n  var meshRef = react__WEBPACK_IMPORTED_MODULE_3___default().useRef();\n\n  // Use the useFrame hook to rotate the sun\n  (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_8__.A)(function () {\n    if (meshRef.current) {\n      meshRef.current.rotation.x += 0.01;\n      meshRef.current.rotation.y += 0.01;\n    }\n  });\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"mesh\", {\n    ref: meshRef,\n    geometry: geometry,\n    material: material,\n    position: [0, 300, 0]\n  });\n};\nvar GroundNoImpact = function GroundNoImpact() {\n  var geometry = new three__WEBPACK_IMPORTED_MODULE_6__.PlaneGeometry(100, 100);\n  var material = new three__WEBPACK_IMPORTED_MODULE_6__.MeshStandardMaterial({\n    color: \"red\"\n  });\n  // const mesh = new Mesh(geometry, material);\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"mesh\", {\n    geometry: geometry,\n    material: material\n  });\n};\nvar TerrainLocalImg = function TerrainLocalImg(_ref) {\n  var imagePath = _ref.imagePath,\n    width = _ref.width,\n    height = _ref.height,\n    scale = _ref.scale;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null),\n    _useState2 = _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),\n    heightmap = _useState2[0],\n    setHeightmap = _useState2[1];\n  var geometryRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\n    var loadImage = /*#__PURE__*/function () {\n      var _ref2 = _babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_2___default().mark(function _callee() {\n        var textureLoader, loadedHeightmap;\n        return _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_2___default().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                textureLoader = new TextureLoader();\n                _context.next = 4;\n                return textureLoader.load(imagePath);\n              case 4:\n                loadedHeightmap = _context.sent;\n                setHeightmap(loadedHeightmap);\n                _context.next = 11;\n                break;\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](0);\n                console.error('Error loading image:', _context.t0);\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 8]]);\n      }));\n      return function loadImage() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    loadImage();\n  }, [imagePath]);\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\n    if (!heightmap) return;\n    var createGeometry = function createGeometry() {\n      console.log(window, \"windows\");\n      var canvas = window.document.createElement('canvas');\n      var context = canvas.getContext('2d');\n      canvas.width = width;\n      canvas.height = height;\n      context.drawImage(heightmap.image, 0, 0, width, height);\n      var imageData = context.getImageData(0, 0, width, height).data;\n      var geometry = new three__WEBPACK_IMPORTED_MODULE_6__.PlaneGeometry(width, height, width - 1, height - 1);\n      for (var i = 0; i < geometry.vertices.length; i++) {\n        var x = i % width;\n        var y = Math.floor(i / width);\n        var heightValue = imageData[(y * width + x) * 4] / 255;\n        geometry.vertices[i].z = heightValue * scale;\n      }\n      geometry.computeFaceNormals();\n      geometry.computeVertexNormals();\n      return geometry;\n    };\n    geometryRef.current = createGeometry();\n  }, [heightmap, width, height, scale]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"mesh\", {\n    geometry: geometryRef.current\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"meshStandardMaterial\", {\n    color: \"green\"\n  }));\n};\nvar Terrain = function Terrain(_ref3) {\n  var url = _ref3.url,\n    width = _ref3.width,\n    height = _ref3.height,\n    scale = _ref3.scale;\n  var groundGeo = new three__WEBPACK_IMPORTED_MODULE_6__.PlaneGeometry(10000, 10000);\n  var groundMat = new three__WEBPACK_IMPORTED_MODULE_6__.MeshLambertMaterial({\n    color: 0x8c9091\n  });\n  groundMat.color.setHSL(0.295, 11, 0.75);\n  groundGeo.rotateX(-Math.PI * 0.5);\n  var ground = new three__WEBPACK_IMPORTED_MODULE_6__.Mesh(groundGeo, groundMat);\n  ground.position.y = 10;\n  ground.position.z = 0;\n  ground.rotation.x = -Math.PI / 2;\n  ground.receiveShadow = true;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"mesh\", {\n    geometry: groundGeo,\n    material: groundMat\n  });\n};\n\n//   const heightmap = generateHeight(256, 256);\n//   const texture = generateTexture(heightmap, 256, 256);\n\nvar Ground = function Ground() {\n  var perlin = new three_addons_math_ImprovedNoise_js__WEBPACK_IMPORTED_MODULE_9__.ImprovedNoise();\n  var data = new Uint8Array(256 * 256);\n  for (var i = 0; i < data.length; i++) {\n    var x = i % 256;\n    var y = ~~(i / 256); // Fix bitwise operation\n\n    // Generate a Perlin noise value for the current vertex.\n    var noise = perlin.noise(x, y);\n\n    // Scale the Perlin noise value to the range [0, 255].\n    data[i] = noise * 255;\n  }\n  var geometry = new three__WEBPACK_IMPORTED_MODULE_6__.PlaneGeometry(256, 256);\n  var vertices = geometry.attributes.position.array;\n  for (var _i = 0; _i < vertices.length; _i += 3) {\n    // Set the vertex position to the heightmap value.\n    vertices[_i + 1] = data[_i];\n  }\n  var material = new three__WEBPACK_IMPORTED_MODULE_6__.MeshPhongMaterial({\n    color: 0x00ff00\n  });\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"plane\", {\n    geometry: geometry,\n    material: material\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"meshBasicMaterial\", null));\n};\nvar PlaneMesh = function PlaneMesh() {\n  // Create a new TerrainGeometry object.\n  var terrainGeometry = new three__WEBPACK_IMPORTED_MODULE_6__.TerrainGeometry(100, 100); // not exist in three js standard lib\n\n  // Set the heightmap of the terrain.\n  terrainGeometry.heightmap = [[0, 0, 0, 0, 0], [0, 10, 0, 0, 0], [0, 0, 20, 0, 0], [0, 0, 0, 30, 0], [0, 0, 0, 0, 40]];\n\n  // Create a new Material object.\n  var material = new three__WEBPACK_IMPORTED_MODULE_6__.MeshPhongMaterial({\n    color: 0xffffff\n  });\n\n  // Create a new Mesh object.\n  return new three__WEBPACK_IMPORTED_MODULE_6__.Mesh(terrainGeometry, material);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"mesh\", {\n    \"rotation-x\": -Math.PI / 2,\n    receiveShadow: true,\n    position: [0, 0, 10]\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"planeGeometry\", {\n    args: [600, 600]\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"meshStandardMaterial\", {\n    color: 0x00ff00\n  }));\n};\nvar FogEffect = function FogEffect() {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"fog\", {\n    attach: \"fog\",\n    color: \"0x8c9091\",\n    near: 10,\n    far: 5000\n  });\n};\nvar SkyWithShaders = function SkyWithShaders() {\n  var hemiLight = new three__WEBPACK_IMPORTED_MODULE_6__.HemisphereLight(0xffffff, 0xffffff, 2);\n  hemiLight.color.setHSL(0.6, 1, 0.6);\n  var vertexShader = \"varying vec3 vWorldPosition;\\n\\n  void main() {\\n\\n    vec4 worldPosition = modelMatrix * vec4( position, 1.0 );\\n    vWorldPosition = worldPosition.xyz;\\n\\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n\\n  }\";\n  var fragmentShader = \"\\t\\t\\tuniform vec3 topColor;\\n  uniform vec3 bottomColor;\\n  uniform float offset;\\n  uniform float exponent;\\n\\n  varying vec3 vWorldPosition;\\n\\n  void main() {\\n\\n    float h = normalize( vWorldPosition + offset ).y;\\n    gl_FragColor = vec4( mix( bottomColor, topColor, max( pow( max( h , 0.0), exponent ), 0.0 ) ), 1.0 );\\n\\n  }\";\n  var uniforms = {\n    'topColor': {\n      value: new three__WEBPACK_IMPORTED_MODULE_6__.Color(0x03befc)\n    },\n    'bottomColor': {\n      value: new three__WEBPACK_IMPORTED_MODULE_6__.Color(0x8c9091)\n    },\n    'offset': {\n      value: 33\n    },\n    'exponent': {\n      value: 0.6\n    }\n  };\n  uniforms['topColor'].value.copy(hemiLight.color);\n\n  // fog.color.copy(uniforms['bottomColor'].value);\n\n  var skyGeo = new three__WEBPACK_IMPORTED_MODULE_6__.SphereGeometry(500, 32, 15);\n  skyGeo.rotateX(-Math.PI * 0.5);\n  var skyMat = new three__WEBPACK_IMPORTED_MODULE_6__.ShaderMaterial({\n    uniforms: uniforms,\n    vertexShader: vertexShader,\n    fragmentShader: fragmentShader,\n    side: three__WEBPACK_IMPORTED_MODULE_6__.BackSide\n  });\n\n  //const sky = new THREE.Mesh(skyGeo, skyMat);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"mesh\", {\n    geometry: skyGeo,\n    material: skyMat,\n    position: [0, 0, 0]\n  });\n};\nvar MySky = function MySky() {\n  var sky = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)();\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(500),\n    _useState4 = _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),\n    canvasHeight = _useState4[0],\n    setCanvasHeight = _useState4[1];\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\n    // sky.current.scale.setScalar(450000);\n    var updateCanvasHeight = function updateCanvasHeight() {\n      setCanvasHeight(window.innerHeight);\n    };\n    window.addEventListener('resize', updateCanvasHeight);\n    return function () {\n      window.removeEventListener('resize', updateCanvasHeight);\n    };\n  }, []);\n  var light = new three__WEBPACK_IMPORTED_MODULE_6__.PointLight(0xff0000, 1, 100);\n  light.position.set(0, 0, 0);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement((react__WEBPACK_IMPORTED_MODULE_3___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"light\", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(FogEffect, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(Terrain, {\n    url: \"http://localhost:3001/client/heightmap.png\",\n    width: 11,\n    height: 11,\n    scale: 5,\n    position: [100, 100, 100]\n  }));\n};\n\n//# sourceURL=webpack://hello_world/./hello-world/src/SkyGround.js?");

/***/ })

};
exports.runtime =
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("67eb09fd7cf508c40ca3")
/******/ })();
/******/ 
/******/ }
;